<template>
<section>
  <h2>Slider Rotation Example</h2>
  <p>In this example, let's use the slider value to set a rotation property on an element. (See <a href="https://github.com/lab27/p8-vue/blob/main/src/components/Machine.vue">/src/components/SliderRotation.vue</a>)</p>
  <p>We only have to set the <code>transform-origin</code> property of the image to the x/y values of the pivot point. Then we can simply bind the <code>transform: rotate([x]deg)</code> style declaration to the slider value, where <code>x</code> = the slider value.</p>
  
  <p>The blue arrow is a separate html element that we can also rotate inversely.</p>
  <input type="range" min="20" max="90" value="90" class="slider" id="myRange2" step="1" v-model="rotation"> 
  <br>
  <span>Plate angle ϕ: {{rotation}}°</span>
  <br>
  <br>
  <input type="range" v-model="valve" min="278" max="4444" step="1" />
  <br>
  <span>Throttle Open: {{ throttleOpenPercent }}%</span>


    <!-- Machine -->
   <svg id="machine" xmlns="http://www.w3.org/2000/svg" width="1541" height="900" viewBox="0 0 1541 900">
  
    <defs>
    <!-- arrowhead marker definition -->
    <marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5"
        markerWidth="6" markerHeight="6"
        orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" />
    </marker>

    <!-- simple dot marker definition -->
    <marker id="dot" viewBox="0 0 10 10" refX="5" refY="5"
        markerWidth="5" markerHeight="5">
      <circle cx="5" cy="5" r="5" fill="red" />
    </marker>
  </defs>
  <path d="M461,393l11.55-20h-23.1Zm-2-83v65h4V310Z"/>
  <path d="M461,435l-11.55,20h23.1Zm2,83V453h-4v65Z"/>
  <path class="cls-1" d="M1266,415c0,134.76-109.24,244-244,244q-4.51,0-9-.16v5q4.49.17,9,.16c137.52,0,249-111.48,249-249v-1h-5Z"/>
  <line class="stream" x1="959" y1="414.5" x2="340" y2="414.5" 
        :stroke="`hsl(${waterHue}, 50%, 50%)`"
        stroke-width="10"
        :style="`stroke-dasharray: ${(100-throttleOpenPercent) + 10} ${throttleOpenPercent+20};animation-duration:${animationDuration}ms`"
        />
  <g id="rotatingPart" :style="`transform: rotate(${rotation-90}deg)`">
    <rect class="cls-2" x="853" y="221" width="127" height="389"/>
    <rect class="cls-3" x="998" y="278" width="22" height="281"/>
    <rect class="cls-3" x="980" y="193" width="18" height="443"/>
    <path d="M1533,415l-20-11.55v23.1Zm-168,2h150v-4H1365Z"/>
    <path class="cls-4" d="M1022,415h343"/>
    <line class="cls-5" x1="1009" y1="414" x2="1009" y2="875"/>
    <path class="cls-6" d="M782.18,166.64a17.33,17.33,0,0,1,5.94,1.1,24.3,24.3,0,0,0,3.35,1.08,1.69,1.69,0,0,0,1.42-.69,3.2,3.2,0,0,0,.69-1.44h1.31v11H793.7a25.58,25.58,0,0,0-3.47-5.64,9.71,9.71,0,0,0-7.48-3.81,6.91,6.91,0,0,0-6.72,4.08q-2,4.06-2,10.92a24.93,24.93,0,0,0,1.17,8.31q2.19,6.11,8.1,6.11a12.24,12.24,0,0,0,6.75-2,25.48,25.48,0,0,0,4.22-3.74l1.4,1.14a26.78,26.78,0,0,1-4.84,4.46,14.72,14.72,0,0,1-8.26,2.45,17.06,17.06,0,0,1-11.66-4.13q-5.2-4.58-5.21-12.3a16.39,16.39,0,0,1,5-12.42A16.07,16.07,0,0,1,782.18,166.64Zm32.31.6v1.19a12.77,12.77,0,0,0-3.28.44c-.49.18-.74.66-.74,1.42a5,5,0,0,0,0,.69,3.34,3.34,0,0,0,.23.67L817.86,189h.28l6.15-15.88c.13-.35.26-.71.37-1.07a5.31,5.31,0,0,0,.27-1.45c0-.89-.27-1.44-.8-1.65a11.44,11.44,0,0,0-3.22-.51v-1.19h10v1.15a4.31,4.31,0,0,0-2.59,1,8,8,0,0,0-1.66,2.84L816,199.87h-1.24l-12.1-28.16a7.44,7.44,0,0,0-1.51-2.43,3.76,3.76,0,0,0-2.39-.89v-1.15Z"/>
    <path d="M1365,579l11.55-20h-23.1Zm-2-166V561h4V413Z"/>
    <path d="M1503.69,380.44a1.41,1.41,0,0,1,.55-1.26,1.93,1.93,0,0,1,1.13-.39,1.81,1.81,0,0,1,.55.09,2.21,2.21,0,0,1,.59.25l.81.44a1.3,1.3,0,0,0,.3.13,1.79,1.79,0,0,0,.34,0,1.21,1.21,0,0,0,.87-.28,21.63,21.63,0,0,0,1.61-2c.57-.75,1.85-2.57,3.85-5.48,0-.11-.17-.93-.52-2.46s-.68-2.85-1-3.92a8.18,8.18,0,0,0-.78-2.14,1.42,1.42,0,0,0-1.28-.52,6,6,0,0,0-1.26.23c-.4.09-.83.19-1.29.32l-.21-.71,2.55-.88c.66-.23,1.26-.41,1.81-.55a6.15,6.15,0,0,1,1.45-.2,1.81,1.81,0,0,1,1.45.57,9,9,0,0,1,1.23,3.63l.49,2.61a39.64,39.64,0,0,1,3.21-4.45,9.25,9.25,0,0,1,1.95-1.74,3.24,3.24,0,0,1,1.74-.58,3,3,0,0,1,1.27.23A1.57,1.57,0,0,1,1526,363a1.66,1.66,0,0,1-.44,1.22,1.51,1.51,0,0,1-1.12.43,2.45,2.45,0,0,1-.48,0l-.49-.18-.59-.26a4.15,4.15,0,0,0-.48-.18,1.11,1.11,0,0,0-.35-.09c-.69,0-1.64.89-2.87,2.68a12.78,12.78,0,0,0-1.83,3.08,17.18,17.18,0,0,0,.41,2.25c.29,1.25.6,2.58.94,4a20,20,0,0,0,.78,2.75c.35.83.75,1.24,1.19,1.24a1.8,1.8,0,0,0,1.27-.69,27.3,27.3,0,0,0,1.92-2.47l.65.39a19,19,0,0,1-2,3.05q-2,2.38-3.81,2.39a2,2,0,0,1-1.81-1.11,8.2,8.2,0,0,1-.76-2.11l-1.42-5.67-4.7,6.18a14.07,14.07,0,0,1-2.14,2.15,3,3,0,0,1-1.83.56,2.11,2.11,0,0,1-2-.92A2.14,2.14,0,0,1,1503.69,380.44Z"/>
    <path d="M1300.78,574.62a1.88,1.88,0,0,1,.46-1.26,1.68,1.68,0,0,1,1.33-.53,2.28,2.28,0,0,1,1,.21,4.67,4.67,0,0,1,.92.64l.32.23a.87.87,0,0,0,.3.16,1.23,1.23,0,0,0,.39.07q1.13,0,3.6-3t2.51-4.31a27.58,27.58,0,0,0-.88-5.05q-.84-3.76-1.65-6.7a23.25,23.25,0,0,0-2.06-5.6,3,3,0,0,0-2.74-1.47l-.48.05c-.21,0-.59,0-1.12.11v-.76l6.26-1.19.49-.05q.57-.06,2.2,5.17a59,59,0,0,1,1.83,6.84l.92,5.46q2.41-4,3.54-6.2,2.21-4.25,2.2-5.94a2.22,2.22,0,0,0-.14-.76,1.23,1.23,0,0,0-.64-.66l-.39-.21a3.31,3.31,0,0,1-.87-.69,1.89,1.89,0,0,1-.48-1.35,1.7,1.7,0,0,1,.45-1.2,1.84,1.84,0,0,1,1.38-.48,2.54,2.54,0,0,1,1.86.69,3.07,3.07,0,0,1,.71,2.3q0,2.45-2.68,7.89a79.36,79.36,0,0,1-4.62,8.05,70.68,70.68,0,0,1-5.48,7.51q-3.64,4.15-6.06,4.15a2.55,2.55,0,0,1-1.65-.57A1.87,1.87,0,0,1,1300.78,574.62Z"/>
    <path d="M1119,376.24a4.75,4.75,0,0,0,2.27-.59,5.31,5.31,0,0,0,1.59-2.87l5.76-20.8c.13-.5.24-.94.32-1.3a7.53,7.53,0,0,0,.23-1.49,1.64,1.64,0,0,0-.83-1.63,7.12,7.12,0,0,0-2.82-.46v-.76h23.38l-1.47,7.16-1-.09c0-.51.07-.89.07-1.15s0-.65,0-.85a2.78,2.78,0,0,0-1.65-2.84q-1.65-.72-6.89-.72a13.19,13.19,0,0,0-3,.21,1.35,1.35,0,0,0-1,1l-3.1,11c4-.12,6.46-.37,7.3-.73s1.82-1.58,2.89-3.63l.81.23-3.54,11-.8-.23c.17-.9.27-1.5.32-1.81a6.92,6.92,0,0,0,.07-.87,2,2,0,0,0-1.36-2.07,12.45,12.45,0,0,0-3.44-.3h-2.68l-2.87,10.45c-.23.81-.37,1.3-.42,1.49a3.64,3.64,0,0,0,0,.62,1.64,1.64,0,0,0,1,1.67,8.88,8.88,0,0,0,2.57.39V377H1119Z"/>
    <path d="M1147.45,392l5.16-19.55a2.56,2.56,0,0,0,.05-.27,1.43,1.43,0,0,0,0-.29c0-.47-.14-.76-.42-.85a5.93,5.93,0,0,0-1.76-.12v-.53l1.78-.22,1.32-.21,1.11-.25c.64-.13,1-.2,1.06-.2l0,.16-4,15.11q3.64-2.86,4.93-4c.86-.76,1.29-1.34,1.29-1.72a.46.46,0,0,0-.36-.49,8.36,8.36,0,0,0-1.48-.14v-.55h6v.55a4.15,4.15,0,0,0-2.2.77c-.68.47-2.41,1.91-5.21,4.3,1.46,3.41,2.38,5.46,2.74,6.16s.74,1,1.11,1,.66-.23,1-.68a12.49,12.49,0,0,0,1-1.58l.5.34a14.31,14.31,0,0,1-1.83,2.76,2.42,2.42,0,0,1-1.84.87,1.75,1.75,0,0,1-1.22-.52,9.45,9.45,0,0,1-1.47-2.45c-.25-.49-.54-1.12-.87-1.87s-.66-1.59-1-2.53l-1.49,1.1-1.49,5.88Zm13.29-1.1a1,1,0,0,1,.39-.88,1.31,1.31,0,0,1,.79-.28,1.34,1.34,0,0,1,.39.07,1.47,1.47,0,0,1,.42.18l.56.3.21.1h.24a.86.86,0,0,0,.61-.19,15,15,0,0,0,1.13-1.42c.4-.52,1.3-1.81,2.71-3.85,0-.07-.12-.65-.37-1.72s-.47-2-.68-2.76a5.71,5.71,0,0,0-.55-1.5,1,1,0,0,0-.9-.37,4.73,4.73,0,0,0-.88.17c-.28.06-.58.13-.91.22l-.14-.5,1.79-.61c.46-.16.88-.29,1.27-.39a4.82,4.82,0,0,1,1-.14,1.25,1.25,0,0,1,1,.4,6.39,6.39,0,0,1,.87,2.55l.34,1.83a28.7,28.7,0,0,1,2.25-3.12,6.69,6.69,0,0,1,1.37-1.23,2.32,2.32,0,0,1,1.23-.4,2,2,0,0,1,.88.16,1.1,1.1,0,0,1,.62,1.1,1.16,1.16,0,0,1-.31.85,1.09,1.09,0,0,1-.79.31,1.86,1.86,0,0,1-.34,0,2.11,2.11,0,0,1-.34-.13l-.41-.17a2.11,2.11,0,0,0-.34-.13.93.93,0,0,0-.24-.07c-.49,0-1.16.63-2,1.89a9.12,9.12,0,0,0-1.29,2.16,13.7,13.7,0,0,0,.29,1.58c.21.88.43,1.81.66,2.8a13.56,13.56,0,0,0,.55,1.93c.25.59.53.87.84.87a1.25,1.25,0,0,0,.88-.48,17,17,0,0,0,1.36-1.74l.45.28a13.94,13.94,0,0,1-1.43,2.14,3.77,3.77,0,0,1-2.68,1.67,1.41,1.41,0,0,1-1.27-.77,5.35,5.35,0,0,1-.53-1.48l-1-4-3.31,4.33a10.72,10.72,0,0,1-1.49,1.52,2.1,2.1,0,0,1-1.29.38,1.49,1.49,0,0,1-1.41-.64A1.5,1.5,0,0,1,1160.74,390.9Z"/>
    <circle class="cls-7" cx="1009.5" cy="414.5" r="10.5"/>
    <line class="cls-8" x1="1002.08" y1="407.08" x2="1017.63" y2="422.63"/>
    <line class="cls-8" x1="1016.92" y1="407.08" x2="1001.37" y2="422.63"/>
    <rect class="cls-9" x="1009" y="414" width="1" height="1"/>
    <line class="stream" x2="970.5" y2="380" x1="970.5" y1="77"
       :stroke="`hsl(${waterHue}, 50%, 50%)`"
        :stroke-width="`${rotation/10}`"
        :style="`stroke-dasharray: ${(100-throttleOpenPercent) + 10} ${throttleOpenPercent+20};animation-duration:${animationDuration}ms`"
    />
    <line class="stream" x1="970.5" y1="753" x2="970.5" y2="440"
       :stroke="`hsl(${waterHue}, 50%, 50%)`"
        stroke-width="10"
        :style="`stroke-dasharray: ${(100-throttleOpenPercent) + 10} ${throttleOpenPercent+20};animation-duration:${animationDuration}ms`"
    />
  </g>
  <path class="cls-10" d="M1022,415h499"/>
  <path d="M1221,468.06a6.22,6.22,0,0,0,3.85-.9c.82-.62,1.22-1.75,1.22-3.37v-.53a19.23,19.23,0,0,1-9.73-2.38q-4.54-2.46-4.63-8.24.09-5.79,4.63-8.26a20.17,20.17,0,0,1,9.73-2.34v-.26c0-1.65-.4-2.79-1.22-3.42a6.53,6.53,0,0,0-3.85-.85v-.94h15.24v.94a6.45,6.45,0,0,0-3.81.85q-1.26.94-1.26,3.42V442a20.36,20.36,0,0,1,9.82,2.34q4.41,2.47,4.54,8.26-.13,5.78-4.54,8.24a19.41,19.41,0,0,1-9.82,2.38v.53a4,4,0,0,0,1.26,3.37,6.14,6.14,0,0,0,3.81.9V469H1221Zm5.07-24.63q-8.88.1-9,9.21.13,9.14,9,9.22Zm5.1,18.43q8.83-.09,9-9.22-.2-9.12-9-9.21Z"/>
  <rect class="cls-11" x="1.5" y="360.5" width="253" height="108"/>
  <path class="cls-12" d="M257.5,361l106,31.4v43.18L257.5,468Z"/>
  <rect class="cls-12" x="99.5" y="279.5" width="57" height="81"/>
  <rect class="cls-13" x="1.5" y="1.5" width="244" height="279" rx="53.5"/>
  <path d="M83.07,250.14a2.77,2.77,0,0,0,1.35-.42A2.16,2.16,0,0,0,85,248V237.38a2.23,2.23,0,0,0-.4-1.53,2.75,2.75,0,0,0-1.55-.55v-.88h6.82V237a9.67,9.67,0,0,1,1.74-1.83A5.67,5.67,0,0,1,95.11,234a5,5,0,0,1,3.36,1,5.66,5.66,0,0,1,1.26,1.9H100a9.62,9.62,0,0,1,2-1.88,5.49,5.49,0,0,1,3.22-1,5.08,5.08,0,0,1,3.34,1.21,4.72,4.72,0,0,1,1.45,3.84v9a2.2,2.2,0,0,0,.41,1.6,2.75,2.75,0,0,0,1.42.44V251h-8.54v-.86a2.72,2.72,0,0,0,1.37-.48,2.16,2.16,0,0,0,.39-1.56v-8.72a4.64,4.64,0,0,0-.42-2.18,1.61,1.61,0,0,0-1.57-.77,3.12,3.12,0,0,0-2,.86c-.68.56-1,1-1,1.18v9.63a2.23,2.23,0,0,0,.35,1.51,2.85,2.85,0,0,0,1.32.53V251H93.26v-.86a2.72,2.72,0,0,0,1.36-.46,2.14,2.14,0,0,0,.4-1.58v-8.72a5,5,0,0,0-.39-2.16,1.58,1.58,0,0,0-1.59-.79,2.91,2.91,0,0,0-2.06.91c-.63.6-1,1-1,1.13v9.63a2.31,2.31,0,0,0,.33,1.51,2.76,2.76,0,0,0,1.32.53V251H83.07Zm37-2.64a4.38,4.38,0,0,0,.39,1.62,2.18,2.18,0,0,0,2.11,1.23,2.66,2.66,0,0,0,2.6-1.95,19,19,0,0,0,.09-10.39,2.61,2.61,0,0,0-2.64-2,2.3,2.3,0,0,0-1.86.86,2.58,2.58,0,0,0-.69,1.21Zm0-20.83V236a8.29,8.29,0,0,1,1.57-1.25,5.55,5.55,0,0,1,2.84-.76,5.87,5.87,0,0,1,4.89,2.38,9.15,9.15,0,0,1,1.86,5.83c0,3-.79,5.27-2.37,6.89a7.87,7.87,0,0,1-5.87,2.41,5.63,5.63,0,0,1-2.55-.56,8.84,8.84,0,0,1-2.07-1.48l-2.83,2H115V229.62a2.12,2.12,0,0,0-.41-1.51,2.73,2.73,0,0,0-1.51-.56v-.88Zm20.36,22.27a2.79,2.79,0,0,0,1.63-.52,6.5,6.5,0,0,0,1-1v-5.25a7.53,7.53,0,0,0-2.53,1.1,3.85,3.85,0,0,0-1.84,3.27,2.65,2.65,0,0,0,.53,1.8A1.62,1.62,0,0,0,140.41,248.94Zm-7-1.3a4.33,4.33,0,0,1,2.34-3.85,31.86,31.86,0,0,1,7.33-2.86v-2.62a3.43,3.43,0,0,0-.69-2.36,3.06,3.06,0,0,0-2.39-.77,3.11,3.11,0,0,0-1.6.37,1,1,0,0,0-.61.9.75.75,0,0,0,.07.35,1.18,1.18,0,0,0,.21.3l.21.24a2.62,2.62,0,0,1,.39.67,2.12,2.12,0,0,1-.53,2.34,2.43,2.43,0,0,1-1.57.54,2.66,2.66,0,0,1-1.77-.61,2.22,2.22,0,0,1-.72-1.78,3.72,3.72,0,0,1,2-3.29,9,9,0,0,1,4.8-1.21,10.19,10.19,0,0,1,5.11,1.18q2,1.2,2,4.39v8.72a1.15,1.15,0,0,0,.2.67.58.58,0,0,0,.45.27.84.84,0,0,0,.37-.08,2.17,2.17,0,0,0,.53-.44l.54.76a5.77,5.77,0,0,1-2.33,1.72,4.68,4.68,0,0,1-1.71.32,2.81,2.81,0,0,1-2.34-.93,3.55,3.55,0,0,1-.61-1.57,8.41,8.41,0,0,1-3.38,2.11,6.92,6.92,0,0,1-2.25.39,4.63,4.63,0,0,1-2.76-.93A3.42,3.42,0,0,1,133.43,247.64Zm17.74,2.5a2.67,2.67,0,0,0,1.44-.49,2,2,0,0,0,.44-1.43l0-1.05v-9.79a2.3,2.3,0,0,0-.38-1.53,2.65,2.65,0,0,0-1.53-.55v-.88H158v2.83a13.67,13.67,0,0,1,2.27-2.37,4.09,4.09,0,0,1,2.6-.88,3.07,3.07,0,0,1,2,.72,2.78,2.78,0,0,1,.26,3.82,2.08,2.08,0,0,1-1.61.68,2.45,2.45,0,0,1-2-1.07c-.55-.71-.94-1.07-1.16-1.07a2,2,0,0,0-1.46.9,3.87,3.87,0,0,0-.72,2.53v6.8a3.27,3.27,0,0,0,.51,2.25,4.09,4.09,0,0,0,2.07.58V251h-9.59Z"/>
  <circle class="cls-14" cx="124" cy="122" r="88"/>
  <path d="M490.36,326q6.75,0,9.49-5.57a13.31,13.31,0,0,0,1.41-5.89,8.17,8.17,0,0,0-1.43-4.88q-1.43-2-5.13-2a3.82,3.82,0,0,0-1.45.2,1,1,0,0,0-.56.69l-4.24,15.19a6.4,6.4,0,0,0-.15.66,3,3,0,0,0,0,.43.94.94,0,0,0,.41.9A3.77,3.77,0,0,0,490.36,326Zm-7.65.48a3.11,3.11,0,0,0,1.5-.39,3.51,3.51,0,0,0,1.05-1.9l3.79-13.71c.12-.41.2-.77.26-1.06a3.55,3.55,0,0,0,.11-.79,1.08,1.08,0,0,0-.52-1,4.29,4.29,0,0,0-1.89-.33v-.5h8a17.37,17.37,0,0,1,3.9.39,7.32,7.32,0,0,1,3.12,1.62,8.16,8.16,0,0,1,1.7,2.15,8.91,8.91,0,0,1,1,4.22,10.84,10.84,0,0,1-3.59,8.09A14.24,14.24,0,0,1,490.92,327h-8.21Zm47-5.27v2.12H514.08v-2.12Zm0-6.25v2.12H514.08V315Zm16.47,11.5a3.42,3.42,0,0,0,2.63-1,3.48,3.48,0,0,0,.89-2.42,3.71,3.71,0,0,0-1-2.67,26.91,26.91,0,0,0-3.88-3.1,4.88,4.88,0,0,0-1.89,2.12,6.11,6.11,0,0,0-.59,2.51,4.92,4.92,0,0,0,1.06,3.3A3.47,3.47,0,0,0,546.2,326.48Zm.19-11.56a9.46,9.46,0,0,0,2-1.68,4.34,4.34,0,0,0,.94-2.82,3.54,3.54,0,0,0-.89-2.43,3.35,3.35,0,0,0-2.68-1,3.19,3.19,0,0,0-2.3.88,2.86,2.86,0,0,0-.91,2.14,4,4,0,0,0,1.06,2.65A12.64,12.64,0,0,0,546.39,314.92Zm-2.33,1.76a17.19,17.19,0,0,1-2.72-2.56,5.12,5.12,0,0,1-1.12-3.21,4.29,4.29,0,0,1,1.65-3.39,6.47,6.47,0,0,1,4.31-1.39,5.57,5.57,0,0,1,3.88,1.31,4.06,4.06,0,0,1,1.43,3.06,4.34,4.34,0,0,1-1.46,3.18,14.57,14.57,0,0,1-2.74,1.85,19.11,19.11,0,0,1,3.67,3.33,5.16,5.16,0,0,1,1.12,3.33,4.73,4.73,0,0,1-1.65,3.66,6.27,6.27,0,0,1-4.39,1.48,6.72,6.72,0,0,1-4.23-1.36,4.38,4.38,0,0,1-1.76-3.62,5.13,5.13,0,0,1,1.23-3.39A14,14,0,0,1,544.06,316.68Zm10.34,9.93a3.41,3.41,0,0,0,1.57-.4,2,2,0,0,0,.61-1.75v-7.83a2.45,2.45,0,0,0-.3-1.47,1.2,1.2,0,0,0-1-.34,3,3,0,0,0-.49,0,1.66,1.66,0,0,0-.36.1v-.53l1.09-.36c.39-.13,1-.37,1.94-.71s1.37-.52,1.42-.52a.09.09,0,0,1,.09.08,1.57,1.57,0,0,1,0,.29v2a11.34,11.34,0,0,1,2.58-1.88,5.15,5.15,0,0,1,2.24-.53,3.12,3.12,0,0,1,2.49,1.06,4.65,4.65,0,0,1,.8,1.56,12.65,12.65,0,0,1,2-1.68,5.29,5.29,0,0,1,2.94-.94,3.16,3.16,0,0,1,3.25,2,9.6,9.6,0,0,1,.47,3.54v6.28a1.86,1.86,0,0,0,.47,1.47,3.49,3.49,0,0,0,1.73.5V327h-6.83v-.42a3.06,3.06,0,0,0,1.73-.53,2.4,2.4,0,0,0,.42-1.67v-6.52a5.59,5.59,0,0,0-.32-2.17,2.16,2.16,0,0,0-2.19-1.24,3.53,3.53,0,0,0-2,.65,10.46,10.46,0,0,0-1.37,1.21v7.75a3.37,3.37,0,0,0,.42,1.86,2.18,2.18,0,0,0,1.83.69V327h-6.95v-.39a2.88,2.88,0,0,0,1.84-.7,5,5,0,0,0,.39-2.53v-4.24a11.5,11.5,0,0,0-.3-3.21,2,2,0,0,0-2.12-1.48,3.55,3.55,0,0,0-1.82.52,5.6,5.6,0,0,0-1.57,1.31v8.28a2.43,2.43,0,0,0,.39,1.59,2.48,2.48,0,0,0,1.76.46V327H554.4Zm24.13,0a3.41,3.41,0,0,0,1.57-.4,2,2,0,0,0,.61-1.75v-7.83a2.45,2.45,0,0,0-.3-1.47,1.22,1.22,0,0,0-1-.34,2.93,2.93,0,0,0-.49,0,1.66,1.66,0,0,0-.36.1v-.53l1.09-.36c.39-.13,1-.37,1.94-.71s1.37-.52,1.42-.52a.09.09,0,0,1,.09.08,1.57,1.57,0,0,1,0,.29v2a11.13,11.13,0,0,1,2.58-1.88,5.15,5.15,0,0,1,2.24-.53,3.14,3.14,0,0,1,2.49,1.06,4.65,4.65,0,0,1,.8,1.56,12.65,12.65,0,0,1,2-1.68,5.29,5.29,0,0,1,2.94-.94,3.16,3.16,0,0,1,3.25,2,9.82,9.82,0,0,1,.47,3.54v6.28a1.86,1.86,0,0,0,.47,1.47,3.49,3.49,0,0,0,1.73.5V327h-6.83v-.42a3,3,0,0,0,1.72-.53,2.34,2.34,0,0,0,.43-1.67v-6.52a5.59,5.59,0,0,0-.32-2.17,2.16,2.16,0,0,0-2.19-1.24,3.53,3.53,0,0,0-2,.65,11.12,11.12,0,0,0-1.38,1.21v7.75a3.36,3.36,0,0,0,.43,1.86,2.18,2.18,0,0,0,1.83.69V327h-6.95v-.39a2.82,2.82,0,0,0,1.83-.7,4.87,4.87,0,0,0,.4-2.53v-4.24a11.5,11.5,0,0,0-.3-3.21,2,2,0,0,0-2.12-1.48,3.53,3.53,0,0,0-1.82.52,5.46,5.46,0,0,0-1.57,1.31v8.28a2.43,2.43,0,0,0,.39,1.59,2.46,2.46,0,0,0,1.75.46V327h-6.88Z"/>
  <text id="mbarVal" class="cls-15" transform="translate(66.75 141)">{{valve}}</text>
</svg>

</section>
</template>

<script>
export default {
  name: 'SliderTest',
  computed: {
      throttleOpenPercent() {
      const throttleOpenPercent = (this.valve - 278) / (4444 - 278);
      return Math.floor(throttleOpenPercent * 100);
    },
    animationDuration() {
      return 6000 - this.valve;
    },
    waterHue() {
      return Math.floor(this.map(this.throttleOpenPercent, 0, 100, 180, 360))
    },
  },
  data() {
    return {
      rotation: 90,
      arrowLength: 50,
            valve: 910,
    }
  },
  methods: {
    onChange(value) {
      this.value = value
    },
        map(n, start1, end1, start2, end2) {
      return ((n - start1) / (end1 - start1)) * (end2 - start2) + start2;
    },
  }
}
</script>

<style>
#rotatingPart {
  transform-origin: 1009px 414px;
}


#machine {
  width: 100%;
  transform: scale(.8);
  margin: 0 auto;
  overflow: visible;
}

.arrow-wrapper {
  position: absolute;
  display: flex;
  justify-items: flex-end;
  align-items: center;
  transform-origin: right bottom;
  left: -91px;
  top: 400px;
  width: 200px;
  height: 10px;
  z-index: 1;
  filter: drop-shadow(0 1px 2px rgba(0,0,0,.5));
}

.arrow-head {
  position: absolute;
  right: -10px;
  width: 1px;
  height: 1px;
  border: 10px solid transparent;
  border-left-color: dodgerblue;
}

.arrow-stem {
  position: absolute;
  right: 10px;
  height: 5px;
  width: 50px;
  background: dodgerblue;
  margin-left: auto;
}

 .cls-1 {
        fill-rule: evenodd;
      }

      .cls-10, .cls-2, .cls-4, .cls-5, .cls-8 {
        fill: none;
      }

      .cls-2 {
        stroke: #ff5b00;
        stroke-dasharray: 10 10;
      }

      .cls-2, .cls-3, .cls-4, .cls-5 {
        stroke-width: 4px;
      }

      .cls-3 {
        fill: #d9dad7;
      }

      .cls-10, .cls-11, .cls-12, .cls-13, .cls-14, .cls-3, .cls-4, .cls-5, .cls-7, .cls-8 {
        stroke: #000;
      }

      .cls-10, .cls-4 {
        stroke-dasharray: 8 8;
      }

      .cls-5 {
        stroke-dasharray: 12 12;
      }

      .cls-6 {
        fill: #ff5b00;
      }

      .cls-7 {
        fill: #fff;
        stroke-width: 2px;
      }

      .cls-12, .cls-9 {
        fill: #c4c4c4;
      }

      .cls-10 {
        stroke-width: 2px;
      }

      .cls-11 {
        fill: #379ff4;
      }

      .cls-11, .cls-12, .cls-13 {
        stroke-width: 3px;
      }

      .cls-13 {
        fill: #acddf6;
      }

      .cls-14 {
        fill: #f9f9f9;
        stroke-width: 6px;
      }

      .cls-15 {
        font-size: 50px;
        font-family: Monaco;
      }

.stream {
  animation: flow linear infinite;
  stroke-linecap:round;
}

@keyframes flow {
  0% {
    stroke-dashoffset: -900;
  }
  100% {
    stroke-dashoffset: 00;
  }
}
</style>